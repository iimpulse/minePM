from os import path
from pymongo import MongoClient
import string 
def main():
	client = MongoClient('mongodb://localhost:27017/')
  	db = client['minepm']
	ls = [24389353,24553861,22977195,25453219,23507703,26006245,26003492,23280481,26959883,26957440,25615818,24155892,24126741,24888374,25012825,25004126,25002532,25000999,26608463,24812767,23255921,23254686,23251249,24619958,24619413,24618694,23593148,24349321,25188519,25176024,25168481,25164625,26539805,26525204,26516160,24691949,24689036,26634544,26623053,24516518,26071255,25753585,25638659,23661635,23765757,24036214,26182292,26181529,25483192,25471734,24595526,25828575,25826086,25394789,26284387,26257301,26498662,26655404,26803986,22849866,22843938,26396914,26396674,26380220,26366377,23675277,26202948,24248375,24243494,22782340,22763976,23343125,26113609,26097550,26089375,25381040,25378314,24971999,24968948,26778368,25080090,25059847,25227682,25911416,25889931,23118721,22809628,23554959,24309103,24296312,23192379,23192362,24671507,24662824,26883159,25808196,26934354,26921391,26718770,26693070,24223781,23950876,23943203,24779793,23620784,22965815,26465359,26309898,26299074,26044568,23757299]
	print len(ls)
	ls = map(lambda s: str(s), ls)
	records = db.prostatecancer.find({"pmid":{ "$in":ls }})
	for x in records:
		abs = x['ab']
		abs = map(lambda s: s.encode('ascii','ignore'),abs)
		abs = map(lambda s: s.strip(string.punctuation),abs)
		abs = " ".join(abs)
		with open('./prosabs.txt','a') as f:
			f.write(str(abs))
			f.close()
		


if __name__ == "__main__":
	main()
